(function(){"use strict";var e={1985:function(e,t,n){var o=n(9963),a=n(6252);function s(e,t,n,o,s,r){const i=(0,a.up)("v-spacer"),c=(0,a.up)("router-link"),l=(0,a.up)("v-btn"),u=(0,a.up)("v-app-bar"),d=(0,a.up)("router-view"),p=(0,a.up)("v-main"),m=(0,a.up)("v-app"),y=(0,a.up)("widget-container-modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{color:"#e0e9f5"},{default:(0,a.w5)((()=>[(0,a.Wm)(i),(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1})])),_:1}),(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{to:"/about"},{default:(0,a.w5)((()=>[(0,a.Uk)("About")])),_:1})])),_:1})])),_:1}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d)])),_:1})])),_:1}),(0,a.Wm)(y)],64)}var r=n(9593),i={components:{WidgetContainerModal:r.nC}},c=n(3744);const l=(0,c.Z)(i,[["render",s]]);var u=l,d=n(2201),p=n(3577);const m={class:"flex flex-col items-center justify-end h-full p-4"},y={class:"w-full h-5/6 overflow-scroll flex flex-col-reverse"},h={ref:"chatBottom"},v={class:"mx-4 p-4 bg-white rounded-lg"},f={key:0},g=["innerHTML","onDragstart"],x={key:1,class:"flex gap-4"},w={key:2},b={class:"w-full flex flex-col items-center"};function N(e,t,n,s,r,i){const c=(0,a.up)("v-avatar"),l=(0,a.up)("v-img"),u=(0,a.up)("my-buttons"),d=(0,a.up)("v-text-field"),N=(0,a.up)("v-btn"),k=(0,a.up)("v-sheet"),I=(0,a.up)("v-col"),C=(0,a.up)("my-node"),D=(0,a.up)("v-row");return(0,a.wg)(),(0,a.j4)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,{cols:"12",sm:"5"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"ml-8 my-4",rounded:"lg",height:"90vh",color:"#e0e9f5",onDragover:s.onDragover},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("div",y,[(0,a._)("div",h,null,512),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.history,(e=>((0,a.wg)(),(0,a.iD)("div",{class:(0,p.C_)(["flex items-start py-2 mb-8",{"flex-row-reverse":e.self}]),key:e.nodeId},[e.self?((0,a.wg)(),(0,a.j4)(c,{key:0,class:"border",image:"images/test_me.png"})):((0,a.wg)(),(0,a.j4)(c,{key:1,class:"border",image:"images/test_ai.png"})),(0,a._)("div",v,[(0,a._)("div",{class:(0,p.C_)(["cursor-move",{"text-right":e.self}])},[e.type===s.NodeTypes.text?((0,a.wg)(),(0,a.iD)("div",f,[(0,a._)("span",{innerHTML:e.content[0],draggable:"true",onDragstart:t=>s.startDrag(e.content[0],e.type)},null,40,g)])):(0,a.kq)("",!0),e.type===s.NodeTypes.image?((0,a.wg)(),(0,a.iD)("div",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.content,((t,n)=>((0,a.wg)(),(0,a.j4)(l,{key:n,width:150,"aspect-ratio":"4/3",cover:"",src:t,draggable:"true",onDragstart:n=>s.startDrag(t,e.type)},null,8,["src","onDragstart"])))),128))])):(0,a.kq)("",!0),e.type===s.NodeTypes.buttons?((0,a.wg)(),(0,a.iD)("div",w,[(0,a.Wm)(u,{content:e.content,onButtonClicked:s.pickOption},null,8,["content","onButtonClicked"])])):(0,a.kq)("",!0)],2)])],2)))),128))]),(0,a._)("div",b,[(0,a.Wm)(d,{class:"w-full",modelValue:s.chatToSend,"onUpdate:modelValue":t[0]||(t[0]=e=>s.chatToSend=e),label:"Chat to AI",clearable:"",onKeyup:t[1]||(t[1]=(0,o.D2)((e=>s.enterText()),["enter"]))},null,8,["modelValue"]),(0,a.Wm)(N,{class:"bg-zinc-100 my-2",block:"",disabled:s.sending,loading:s.sending,onClick:t[2]||(t[2]=e=>s.enterText())},{default:(0,a.w5)((()=>[(0,a.Uk)(" Send ")])),_:1},8,["disabled","loading"])])])])),_:1},8,["onDragover"])])),_:1}),(0,a.Wm)(I,{cols:"12",sm:"7"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"mr-8 my-4",height:"90vh",rounded:"lg",color:"#e0e9f5",onDragover:s.onDragover,onDrop:s.onDrop},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"w-full h-full canvas",onMousemove:t[3]||(t[3]=(...e)=>s.mosemove&&s.mosemove(...e)),onMouseup:t[4]||(t[4]=(...e)=>s.mouseup&&s.mouseup(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.textNodes,((e,t)=>((0,a.wg)(),(0,a.j4)(C,{key:t,node:e,"on-mouse-down":s.onNodeMouseDown,onOnNodeClicked:t=>s.clickCanvasNode(e),onNewPosition:t=>s.newPosition(t,e)},null,8,["node","on-mouse-down","onOnNodeClicked","onNewPosition"])))),128))],32))])),_:1},8,["onDragover","onDrop"])])),_:1})])),_:1})}var k=n(7632),I=n(2262),C=n(6485),D={image:"img",text:"txt",buttons:"btn",k1:"QjxMZlnPT3BlbkFJ9oD5Q",k2:"sk-KhuyUzxadKXP",k3:"sPpdGrS3TL7QiPE"};const T=["x","y","width","height"],O=["width","height"],_=["width","src"];function W(e,t,n,o,s,r){return(0,a.wg)(),(0,a.iD)("svg",{x:o.x,y:o.y,width:o.w,height:o.h,onMousedown:t[0]||(t[0]=(...e)=>o.mousedown&&o.mousedown(...e)),class:"cursor-pointer",onMouseenter:t[1]||(t[1]=(...e)=>o.mouseenter&&o.mouseenter(...e)),onMouseleave:t[2]||(t[2]=(...e)=>o.mouseleave&&o.mouseleave(...e)),onMouseup:t[3]||(t[3]=(...e)=>o.mouseup&&o.mouseup(...e))},[((0,a.wg)(),(0,a.iD)("foreignObject",{width:o.w,height:o.h,x:"0",y:"0"},[n.node.type===o.NodeTypes.text?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,p.C_)(n.node.class)},(0,p.zw)(n.node.content),3)):(0,a.kq)("",!0),n.node.type===o.NodeTypes.image?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,p.C_)(n.node.class)},[(0,a._)("img",{width:o.w,src:n.node.content},null,8,_)],2)):(0,a.kq)("",!0)],8,O))],40,T)}var S={props:{onMouseDown:Function,node:Object},setup(e,{emit:t}){const n=(0,I.iH)(e.node.x),o=(0,I.iH)(e.node.y);let a=!1;const s=function(e,s){a=!0,n.value+=e,o.value+=s,t("newPosition",{x:n.value,y:o.value})},r=function(t){t.stopPropagation(),t.preventDefault(),e.onMouseDown&&e.onMouseDown(s)},i=(0,I.iH)(0),c=(0,I.iH)(0);e.node.type===D.text?(i.value=400,c.value=80):e.node.type===D.image&&(i.value=150,c.value=150);const l=function(){},u=function(){},d=function(){a||t("onNodeClicked"),a=!1};return{NodeTypes:D,x:n,y:o,mousedown:r,w:i,h:c,mouseenter:l,mouseleave:u,mouseup:d}}};const j=(0,c.Z)(S,[["render",W]]);var M=j;const H={class:"flex flex-wrap gap-4"},A=["onClick"];function V(e,t,n,o,s,r){return(0,a.wg)(),(0,a.iD)("div",H,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.buttons,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{class:(0,p.C_)({"button-37":!e.on,"button-37-on":e.on}),key:t,onClick:t=>o.clickButton(e)},(0,p.zw)(e.text),11,A)))),128))])}var B={props:{content:Array},setup(e,{emit:t}){const n=(0,I.iH)(e.content),o=function(e){t("buttonClicked",e)};return{buttons:n,clickButton:o}}};const P=(0,c.Z)(B,[["render",V],["__scopeId","data-v-134a7f0d"]]);var Y=P,E=JSON.parse('{"N":[{"id":"001","info":"Hello there, welcome to our Narrative Writing lesson today! Shall we start?","actions":[{"type":"options","options":[{"text":"Yes","reply":"Great, let\'s go!","next":"004"},{"text":"No","reply":"That\'s ok, let me know when you are ready!","next":"001"}]}]},{"id":"004","info":"Alright, first, do you want to pick a genre? It may help narrowing down your writing.","actions":[{"type":"options","options":[{"text":"Sure","reply":"","next":"005"},{"text":"No thanks, I have an idea in mind","reply":"Alrighty then! Can you type your idea?","next":"009"}]}]},{"id":"005","info":"Alright, pick a genre you want...","actions":[{"type":"options","options":[{"text":"Historical","reply":"","next":"006","save":"genre"},{"text":"Action","reply":"","next":"006","save":"genre"},{"text":"Romance","reply":"","next":"006","save":"genre"},{"text":"Horror","reply":"","next":"006","save":"genre"},{"text":"Comedy","reply":"","next":"006","save":"genre"},{"text":"Fantasy","reply":"","next":"006","save":"genre"}]}]},{"id":"006","info":"","actions":[{"type":"publish","text":"Story genre: {genre}","varNames":["genre"]},{"type":"next","next":"007"}]},{"id":"007","info":"Now, can you think of an idea to write a story about based on {genre}?","varNames":["genre"],"actions":[{"type":"options","options":[{"text":"Yes","reply":"Great, can you type your idea?","next":"009"},{"text":"I need help","reply":"That\'s ok, here are some ideas for you...","next":"008"}]}]},{"id":"008","info":"","actions":[{"type":"listStoryIdeas","seed":"{genre}","number":4,"grade":3,"maxWords":12,"save":"userIdea","varNames":["genre"],"options":[{"text":"I don\'t like any above","reply":"Thatâ€™s ok, here are some more...","next":"008"}]},{"type":"next","next":"010"}]},{"id":"009","info":"","actions":[{"type":"saveInput","varName":"idea"},{"type":"rephrase","text":"Cool, so your idea is about \'{userIdea}\', is that correct?","input":"{idea}","save":"userIdea","varNames":["idea","userIdea"],"options":[{"text":"Yes","reply":"That is a nice idea!","next":"010"},{"text":"No","reply":"That\'s ok, try to type your idea again","next":"009"}]}]},{"id":"010","info":"","actions":[{"type":"publish","text":"Story Idea: {userIdea}","varNames":["userIdea"]},{"type":"next","next":"011"}]},{"id":"011","info":"Now, based on your idea, what or who is the main character in your story?","input":true,"actions":[{"type":"options","options":[{"text":"I need help","reply":"That\'s ok, here are a few names you can use as for your main character:","next":"013"}]},{"type":"saveInput","varName":"mainChar"},{"type":"next","next":"012"}]},{"id":"012","info":"","actions":[{"type":"publish","text":"Main Character: {mainChar}","varNames":["mainChar"]},{"type":"next","next":"014"}]},{"id":"013","info":"","actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}","term":"names","desc":"main character","number":5,"save":"mainChar","varNames":["userIdea"]},{"type":"next","next":"012"}]},{"id":"014","info":"Can you give more description of your character? age, gender, feeling (emotion) anything.","actions":[{"type":"options","options":[{"text":"I need help","reply":"That\'s ok, let me help you.","next":"016"}]},{"type":"saveInput","varName":"idea"},{"type":"rephrase","text":"Cool, so your character \'{mainChar}\' is \'{desc}\', is that correct?","input":"{idea}","save":"desc","varNames":["mainChar","desc","idea"],"options":[{"text":"Yes","reply":"","next":"015"},{"text":"No","reply":"","next":"014"}]}]},{"id":"015","info":"","actions":[{"type":"publish","text":"{desc}","varNames":["desc"]},{"type":"next","next":"018"}]},{"id":"016","info":"Ok, so, {mainChar} can feel...","varNames":["mainChar"],"actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}","term":"emotions","desc":"the feelings of the character","number":4,"save":"desc","varNames":["userIdea","mainChar"]},{"type":"next","next":"017"}]},{"id":"017","info":"And {mainChar} can look like...","varNames":["mainChar"],"actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}","term":"appearance","desc":"how the main character look like","number":4,"append":"desc","varNames":["userIdea"]},{"type":"publish","text":"{desc}","varNames":["desc"]},{"type":"next","next":"018"}]},{"id":"018","info":"Do you want to generate an image of your character?","actions":[{"type":"options","options":[{"text":"Yes","next":"019"},{"text":"No","next":"020"}]}]},{"id":"019","info":"","actions":[{"type":"makeImage","text":"{userIdea}, {desc}","varNames":["userIdea","desc"]},{"type":"next","next":"020"}]},{"id":"020","info":"Where does the story take place?","actions":[{"type":"options","options":[{"text":"I need help","next":"021"}]},{"type":"saveInput","varName":"place"},{"type":"publish","text":"{place}","varNames":["place"]},{"type":"next","next":"022"}]},{"id":"021","info":"","actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}","term":"places","desc":"where the story can take place","number":4,"save":"place","varNames":["userIdea"]},{"type":"publish","text":"{place}","varNames":["place"]},{"type":"next","next":"022"}]},{"id":"022","info":"What do the main characters want to do?","actions":[{"type":"options","options":[{"text":"I need help","next":"023"}]},{"type":"saveInput","varName":"mainObjective"},{"type":"next","next":"024"}]},{"id":"023","info":"","actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}, {desc}","term":"actions","desc":"what the main character in the story wants to do","number":4,"save":"mainObjective","varNames":["userIdea","desc"]},{"type":"publish","text":"{mainObjective}","varNames":["mainObjective"]},{"type":"next","next":"024"}]},{"id":"024","info":"When does the story take place?","actions":[{"type":"options","options":[{"text":"Day","reply":"","next":"025","save":"storyTime"},{"text":"Night","reply":"","next":"025","save":"storyTime"}]}]},{"id":"025","info":"Great, let\'s write an introduction of story based on \'{userIdea}\' within 50 words.","input":true,"varNames":["userIdea"],"actions":[{"type":"options","options":[{"text":"I need help","reply":"That\'s ok, here is an example introduction for your story...","next":"026"}]},{"type":"saveInput","varName":"introduction"}]},{"id":"026","info":"Please wait... I am trying... ^_^","actions":[{"type":"writeStoryIntroduction","seed":"{userIdea}. And the main character is {mainChar}, and {desc}. This story happens at {place}","grade":3,"maxWords":80,"varNames":["userIdea","mainChar","desc","place"],"save":"introduction"},{"type":"next","next":"027"}]},{"id":"027","info":"Do you want to generate an image about the scene?","actions":[{"type":"options","options":[{"text":"Yes","reply":"","next":"028"},{"text":"No","reply":"","next":"029"}]}]},{"id":"028","info":"","actions":[{"type":"makeImage","text":"{introduction}","varNames":["introduction"]},{"type":"next","next":"029"}]},{"id":"029","info":"Cool! Look at on your canvas at the right, it is a very nice story, feel free to make modifications, and show them to your parents and friends! See you next time!","actions":[]}]}'),F={api:null,async serviceRephrase(e,t,n){const o="rephrase this text '{input}' with correct grammar, that is understandable by {grade}-grade students, and do not use more than {maxWords} words.",a=o.replace("{input}",e).replace("{grade}",t).replace("{maxWords}",n),s=await this.api.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"user",content:a}]});return console.log(s),s.data.choices[0].message.content},async serviceWriteStoryIntroduction(e,t,n){const o="Write an introduction for a story based on the idea of '{idea}'. The story is writen as first person. Do not exceed {maxWords} words. This writing must be easy to understand for {grade}-grade students.",a=o.replace("{idea}",e).replace("{grade}",t).replace("{maxWords}",n);console.log(a);const s=await this.api.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a teacher to teach students how to make creative writing, you will generate appropriate exemplary writing for students to follow."},{role:"user",content:a}]});return console.log(s),s.data.choices[0].message.content},async serviceListIdeasFromIdea(e,t,n,o){const a="Based on the idea of '{idea}', list {number} {term} which could be '{description}' in this idea.",s=a.replace("{idea}",e).replace("{term}",t).replace("{number}",o).replace("{description}",n);console.log(s);const r=await this.api.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are an idea generator, and you only reply with JSON format. Only write out the result as a single array of Strings within a JSON string array under the attribute named 'items'."},{role:"user",content:s}]});return console.log(r),r.data.choices[0].message.content},async serviceListStoryIdeas(e,t,n,o){const a="List {number} story ideas about '{seed}', which are appropriate for {grade}-grade school students. Describe each idea with only one short sentence, do not use more than {maxWords} words.",s=a.replace("{seed}",e).replace("{number}",t).replace("{grade}",n).replace("{maxWords}",o);console.log(s);const r=await this.api.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are an idea generator, and you only reply with JSON format. Only write out the result as a single array of Strings within a JSON string array under the attribute named 'items'."},{role:"user",content:s}]});return console.log(r),r.data.choices[0].message.content},async serviceMakeImage(e){const t="image for kids, no words, no text, {text}".replace("{text}",e);console.log(t);const n=await this.api.createImage({prompt:t,n:2,size:"512x512"}),o=[];return n.data.data.forEach((function(e){o.push(e.url)})),o}};const J={class:"bg-gray-200 rounded-lg w-96 h-96 p-8"},Z=(0,a._)("p",{class:"text-red-500"},"Editor Window",-1);function L(e,t,n,s,r,i){return(0,a.wg)(),(0,a.iD)("div",J,[Z,(0,a.wy)((0,a._)("textarea",{type:"textArea",class:"border border-blue-800 h-2/3 w-full","onUpdate:modelValue":t[0]||(t[0]=e=>s.userText=e)},null,512),[[o.nr,s.userText]])])}var K={props:{content:String},setup(e){const t=(0,I.iH)(e.content);return{userText:t}}};const U=(0,c.Z)(K,[["render",L]]);var q=U,z={assignVar(e,t,n){let o=e;return t.forEach((function(e){o.includes("{"+e+"}")&&(o=o.replace("{"+e+"}",n.get(e)))})),o}},R={store:new Map,data:new Map,actions:[],reset(e){const t=this;this.store.clear(),this.data.clear(),this.actions=[],e.forEach((function(e){e.id&&t.data.set(e.id,e)}))},proceed(e,t){const n=this;n.data.has(e)?(t.removeNode(),setTimeout((async function(){const o=n.data.get(e);if(o.info){let e=o.info;o.varNames&&(e=z.assignVar(e,o.varNames,n.store)),t.addTextNode(e)}console.log("section: "+o.id),n.actions=JSON.parse(JSON.stringify(o.actions)),await n.performActions(t)}),1e3)):alert("Course data is not complete!")},async performActions(e){const t=this;while(t.actions.length){const n=t.actions.shift();if(console.log(n.type),"next"===n.type){t.proceed(n.next,e);break}if("saveInput"===n.type){if(!t.store.has("input")){e.unlockUserInput(),t.actions.unshift(n);break}t.store.set(n.varName,t.store.get("input")),t.store.delete("input")}else if("rephrase"===n.type){const o=z.assignVar(n.input,n.varNames,t.store);console.log("rephrase:"+o);const a=await F.serviceRephrase(o,3,10);t.store.set(n.save,a);const s=z.assignVar(n.text,n.varNames,t.store);e.addTextNode(s);const r=[];n.options.forEach((function(e){r.push({text:e.text,on:!1,next:e.next,reply:e.reply})})),e.addButtonNode(r)}else if("options"===n.type){const t=[];n.options.forEach((function(e){t.push({text:e.text,on:!1,next:e.next,reply:e.reply,save:e.save})})),e.addButtonNode(t)}else if("publish"===n.type){let o=z.assignVar(n.text,n.varNames,t.store);e.addTextCanvasNode(o)}else if("writeStoryIntroduction"===n.type){const o=z.assignVar(n.seed,n.varNames,t.store),a=await F.serviceWriteStoryIntroduction(o,n.grade,n.maxWords);t.store.set(n.save,a),e.addTextNode(a)}else{if("listIdeasFromIdea"===n.type){const o=z.assignVar(n.idea,n.varNames,t.store),a=await F.serviceListIdeasFromIdea(o,n.term,n.desc,n.number),s=Object.values(JSON.parse(a))[0],r=[];s.forEach((function(e){r.push({text:e,on:!1,next:"",reply:"",save:n.save,append:n.append})})),e.addButtonNode(r);break}if("listStoryIdeas"===n.type){const o=z.assignVar(n.seed,n.varNames,t.store),a=await F.serviceListStoryIdeas(o,n.number,n.grade,n.maxWords),s=Object.values(JSON.parse(a))[0],r=[];s.forEach((function(e){r.push({text:e,on:!1,next:"",reply:"",save:n.save})})),n.options&&n.options.forEach((function(e){r.push({text:e.text,on:!1,next:e.next,reply:e.reply,save:e.save})})),e.addButtonNode(r);break}if("makeImage"===n.type){const o=z.assignVar(n.text,n.varNames,t.store),a=await F.serviceMakeImage(o);e.addImageNode(a)}}}e.actionDone()}},G={name:"HomeView",components:{MyNode:M,MyButtons:Y},setup(){const e=(0,k.Z)();console.log(e);const t=(0,I.iH)(""),n=(0,I.iH)([]),o=(0,I.iH)(!0),s=(0,I.iH)(null),i=(0,I.iH)([]),c=new C.Configuration({apiKey:D.k2+D.k1+D.k3});F.api=new C.OpenAIApi(c),R.reset(E.N);const l={removeNode(){n.value[0]&&n.value[0].type===D.buttons&&n.value.shift(),o.value=!0},addTextNode(e){n.value.unshift({content:[e],self:!1,type:D.text,nodeId:(0,k.Z)()})},unlockUserInput(){o.value=!1},addButtonNode(e){n.value.unshift({content:e,self:!0,type:D.buttons,nodeId:(0,k.Z)()})},addImageNode(e){n.value.unshift({content:e,self:!1,type:D.image})},addTextCanvasNode(e){let t=100,n=100;i.value.length&&(t=i.value[i.value.length-1].x,n=i.value[i.value.length-1].y),i.value.push({content:e,x:t,y:n+100,type:D.text,class:"text-blue-500 text-lg"})},actionDone(){setTimeout((function(){s.value.scrollIntoView({behavior:"smooth",block:"end"})}),500)}};(0,a.bv)((function(){R.proceed("001",l)}));const u=async function(e){if(!e.done){if(e.on=!0,e.done=!0,n.value.shift(),n.value.unshift({content:[e.text],self:!0,type:D.text}),e.reply&&n.value.unshift({content:[e.reply],self:!1,type:D.text}),i.value.length&&e.cancel&&i.value.pop(),e.save&&R.store.set(e.save,e.text),e.append){const t=R.store.get(e.append);t?R.store.set(e.append,t+", "+e.text):R.store.set(e.append,e.text)}e.next?R.proceed(e.next,l):await R.performActions(l)}},d=async function(){if(!t.value)return;const e=t.value;t.value="",o.value?alert("We are not anticipating input text now..."):(R.store.set("input",e),n.value[0]&&n.value[0].type===D.buttons&&n.value.shift(),n.value.unshift({content:[e],self:!0,type:D.text}),o.value=!0,await R.performActions(l))};let p=null;const m=function(e,t){p={content:e,class:"",type:t}},y=function(e){e.preventDefault()},h=function(e){if(e.preventDefault(),p){const t=e.target.getBoundingClientRect();p.x=e.clientX-t.left,p.y=e.clientY-t.top,i.value.push(p),p=null}};let v=null;const f=function(e){v=e},g=function({x:e,y:t},n){n.x=e,n.y=t};let x=0,w=0;const b=function(e){v&&(e.preventDefault(),v(e.x-x,e.y-w)),x=e.x,w=e.y},N=function(){v=null},T=function(e){const t={content:e.content};(0,r.h7)(q,t)};return{NodeTypes:D,chatToSend:t,history:n,sending:o,startDrag:m,onDragover:y,onDrop:h,textNodes:i,onNodeMouseDown:f,mosemove:b,mouseup:N,pickOption:u,enterText:d,clickCanvasNode:T,chatBottom:s,newPosition:g}}};const Q=(0,c.Z)(G,[["render",N],["__scopeId","data-v-491d6a90"]]);var X=Q;const $={xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"w-full h-full canvas"},ee=(0,a.uE)('<svg x="500" y="0" width="200" height="100" data-v-527ff7e8><text x="100" y="100" class="heavy" data-v-527ff7e8>v0.2</text></svg><svg x="214" y="130" width="150" height="150" class="cursor-pointer" data-v-527ff7e8><foreignObject width="150" height="150" x="0" y="0" data-v-527ff7e8><img src="images/test4.png" data-v-527ff7e8></foreignObject></svg>',2),te=[ee];function ne(e,t,n,o,s,r){return(0,a.wg)(),(0,a.iD)("svg",$,te)}var oe={name:"AboutView",setup(){}};const ae=(0,c.Z)(oe,[["render",ne],["__scopeId","data-v-527ff7e8"]]);var se=ae;const re=[{path:"/",name:"home",component:X},{path:"/about",name:"about",component:se}],ie=(0,d.p7)({history:(0,d.r5)(),routes:re});var ce=ie,le=n(3907),ue=(0,le.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),de=(n(9773),n(6579)),pe=n(9180),me=n(6300);const ye=(0,de.Rd)({components:pe,directives:me,theme:{defaultTheme:"light"}});(0,o.ri)(u).use(ue).use(ce).use(ye).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,s){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],s=e[u][2];for(var i=!0,c=0;c<o.length;c++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(i=!1,s<r&&(r=s));if(i){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,a,s]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,s,r=o[0],i=o[1],c=o[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var u=c(n)}for(t&&t(o);l<r.length;l++)s=r[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},o=self["webpackChunkvital"]=self["webpackChunkvital"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1985)}));o=n.O(o)})();
//# sourceMappingURL=app.5a75059f.js.map