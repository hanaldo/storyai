(function(){"use strict";var e={1972:function(e,t,o){var n=o(9963),a=o(6252);const s=(0,a._)("div",{class:"w-8"},null,-1);function r(e,t,o,n,r,i){const c=(0,a.up)("router-link"),l=(0,a.up)("van-nav-bar"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{title:"StoryAI",style:{"background-color":"#e0e9f5"},clickable:!1},{right:(0,a.w5)((()=>[(0,a.Wm)(c,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1}),s,(0,a.Wm)(c,{to:"/about"},{default:(0,a.w5)((()=>[(0,a.Uk)("About")])),_:1})])),_:1}),(0,a.Wm)(u)],64)}var i=o(6907),c=o(2406),l={components:{[i.zx.name]:i.zx,[c.l2.name]:c.l2}},u=o(3744);const d=(0,u.Z)(l,[["render",r]]);var p=d,m=o(2201),h=o(3577);const y={class:"flex flex-wrap"},v={class:"md:w-5/12 w-full mb-12"},g={class:"flex flex-col items-center justify-end h-full p-4"},f={class:"w-full overflow-scroll flex flex-col-reverse"},x={ref:"chatBottom"},w={class:"mx-4 p-4 bg-white rounded-lg"},b={key:0},N=["innerHTML","onDragstart"],k={key:1,class:"flex gap-4"},I=["src","onDragstart"],D={key:2},C={class:"w-full flex flex-col gap-4"},T={class:"md:w-7/12 w-full"};function O(e,t,o,s,r,i){const c=(0,a.up)("van-image"),l=(0,a.up)("my-buttons"),u=(0,a.up)("van-button"),d=(0,a.up)("van-field"),p=(0,a.up)("van-cell-group"),m=(0,a.up)("my-node"),O=(0,a.up)("my-dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",y,[(0,a._)("div",v,[(0,a._)("div",{class:"m-2 theme-color rounded-lg",onDragover:t[3]||(t[3]=(...e)=>s.onDragover&&s.onDragover(...e))},[(0,a._)("div",g,[(0,a._)("div",f,[(0,a._)("div",x,null,512),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.history,(e=>((0,a.wg)(),(0,a.iD)("div",{class:(0,h.C_)(["flex items-start py-2 mb-8",{"flex-row-reverse":e.self}]),key:e.nodeId},[(0,a._)("div",null,[e.self?((0,a.wg)(),(0,a.j4)(c,{key:0,width:"3rem",height:"3rem",round:"",fit:"cover",src:"images/test_me.png"})):((0,a.wg)(),(0,a.j4)(c,{key:1,width:"3rem",height:"3rem",round:"",fit:"cover",src:"images/test_ai.png"}))]),(0,a._)("div",w,[(0,a._)("div",{class:(0,h.C_)(["cursor-move",{"text-right":e.self}])},[e.type===s.NodeTypes.text?((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("span",{innerHTML:e.content[0],draggable:"true",onDragstart:t=>s.startDrag(e.content[0],e.type)},null,40,N)])):(0,a.kq)("",!0),e.type===s.NodeTypes.image?((0,a.wg)(),(0,a.iD)("div",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.content,((t,o)=>((0,a.wg)(),(0,a.iD)("img",{key:o,width:"150","aspect-ratio":"4/3",cover:"",src:t,draggable:"true",onDragstart:o=>s.startDrag(t,e.type)},null,40,I)))),128))])):(0,a.kq)("",!0),e.type===s.NodeTypes.buttons?((0,a.wg)(),(0,a.iD)("div",D,[(0,a.Wm)(l,{content:e.content,onButtonClicked:s.pickOption},null,8,["content","onButtonClicked"])])):(0,a.kq)("",!0)],2)])],2)))),128))]),(0,a._)("div",C,[s.sending?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(p,{key:0,inset:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.chatToSend,"onUpdate:modelValue":t[1]||(t[1]=e=>s.chatToSend=e),label:"",onKeyup:t[2]||(t[2]=(0,n.D2)((e=>s.enterText()),["enter"]))},{button:(0,a.w5)((()=>[(0,a.Wm)(u,{size:"small",type:"success",onClick:t[0]||(t[0]=e=>s.enterText())},{default:(0,a.w5)((()=>[(0,a.Uk)("Send")])),_:1})])),_:1},8,["modelValue"])])),_:1}))])])],32)]),(0,a._)("div",T,[(0,a._)("div",{class:"m-2 theme-color rounded-lg",onDragover:t[6]||(t[6]=(...e)=>s.onDragover&&s.onDragover(...e)),onDrop:t[7]||(t[7]=(...e)=>s.onDrop&&s.onDrop(...e))},[((0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"w-full h-full canvas",onMousemove:t[4]||(t[4]=(...e)=>s.mosemove&&s.mosemove(...e)),onMouseup:t[5]||(t[5]=(...e)=>s.mouseup&&s.mouseup(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.textNodes,((e,t)=>((0,a.wg)(),(0,a.j4)(m,{key:t,node:e,onOnMouseDown:s.onNodeMouseDown,onOnNodeClicked:o=>s.clickCanvasNode(e,t),onNewPosition:t=>s.newPosition(t,e)},null,8,["node","onOnMouseDown","onOnNodeClicked","onNewPosition"])))),128))],32))],32)])]),(0,a.Wm)(O,{ref:"editor",onRemoveNode:t[8]||(t[8]=e=>s.removeNode())},null,512)],64)}var _=o(7632),S=o(2262),W=o(8480),H=o(3864),j=o(5267),M=o(8041),V=o(6485),A={image:"img",text:"txt",buttons:"btn",k1:"QjxMZlnPT3BlbkFJ9oD5Q",k2:"sk-KhuyUzxadKXP",k3:"sPpdGrS3TL7QiPE"};const B=["x","y","width","height"],Y=["width","height"],E=["width","src"];function F(e,t,o,n,s,r){return(0,a.wg)(),(0,a.iD)("svg",{x:n.x,y:n.y,width:o.node.w,height:o.node.h,onMousedown:t[0]||(t[0]=(...e)=>n.mousedown&&n.mousedown(...e)),class:"cursor-pointer",onMouseenter:t[1]||(t[1]=(...e)=>n.mouseenter&&n.mouseenter(...e)),onMouseleave:t[2]||(t[2]=(...e)=>n.mouseleave&&n.mouseleave(...e)),onMouseup:t[3]||(t[3]=(...e)=>n.mouseup&&n.mouseup(...e))},[((0,a.wg)(),(0,a.iD)("foreignObject",{width:o.node.w,height:o.node.h,x:"0",y:"0"},[o.node.type===n.NodeTypes.text?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,h.C_)(o.node.class)},(0,h.zw)(o.node.content),3)):(0,a.kq)("",!0),o.node.type===n.NodeTypes.image?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,h.C_)(o.node.class)},[(0,a._)("img",{width:o.node.w,src:o.node.content},null,8,E)],2)):(0,a.kq)("",!0)],8,Y))],40,B)}var P={props:{node:Object},setup(e,{emit:t}){const o=(0,S.iH)(e.node.x),n=(0,S.iH)(e.node.y);let a=!1;const s=function(e,s){a=!0,o.value+=e,n.value+=s,t("newPosition",{x:o.value,y:n.value})},r=function(e){e.stopPropagation(),e.preventDefault(),t("onMouseDown",s)},i=function(){},c=function(){},l=function(){a||t("onNodeClicked"),a=!1};return{NodeTypes:A,x:o,y:n,mousedown:r,mouseenter:i,mouseleave:c,mouseup:l}}};const z=(0,u.Z)(P,[["render",F]]);var U=z;const Z={class:"flex flex-wrap gap-4"},J=["onClick"];function L(e,t,o,n,s,r){return(0,a.wg)(),(0,a.iD)("div",Z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.buttons,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{class:(0,h.C_)({"button-37":!e.on,"button-37-on":e.on}),key:t,onClick:t=>n.clickButton(e)},(0,h.zw)(e.text),11,J)))),128))])}var q={props:{content:Array},setup(e,{emit:t}){const o=(0,S.iH)(e.content),n=function(e){t("buttonClicked",e)};return{buttons:o,clickButton:n}}};const K=(0,u.Z)(q,[["render",L],["__scopeId","data-v-134a7f0d"]]);var R=K,G=JSON.parse('{"N":[{"id":"001","info":"Hello there, welcome to our Narrative Writing lesson today! Shall we start?","actions":[{"type":"options","options":[{"text":"Yes","reply":"Great, let\'s go!","next":"004"},{"text":"No","reply":"That\'s ok, let me know when you are ready!","next":"001"}]}]},{"id":"004","info":"Alright, first, do you want to pick a genre? It may help narrowing down your writing.","actions":[{"type":"options","options":[{"text":"Sure","reply":"","next":"005"},{"text":"No thanks, I have an idea in mind","reply":"Alrighty then! Can you type your idea?","next":"009"}]}]},{"id":"005","info":"Alright, pick a genre you want...","actions":[{"type":"options","options":[{"text":"Historical","reply":"","next":"006","save":"genre"},{"text":"Action","reply":"","next":"006","save":"genre"},{"text":"Romance","reply":"","next":"006","save":"genre"},{"text":"Horror","reply":"","next":"006","save":"genre"},{"text":"Comedy","reply":"","next":"006","save":"genre"},{"text":"Fantasy","reply":"","next":"006","save":"genre"}]}]},{"id":"006","info":"","actions":[{"type":"publish","text":"Story genre: {genre}","varNames":["genre"]},{"type":"next","next":"007"}]},{"id":"007","info":"Now, can you think of an idea to write a story about based on {genre}?","varNames":["genre"],"actions":[{"type":"options","options":[{"text":"Yes","reply":"Great, can you type your idea?","next":"009"},{"text":"I need help","reply":"That\'s ok, here are some ideas for you...","next":"008"}]}]},{"id":"008","info":"","actions":[{"type":"listStoryIdeas","seed":"{genre}","number":4,"grade":3,"maxWords":12,"save":"userIdea","varNames":["genre"],"options":[{"text":"I don\'t like any above","reply":"Thatâ€™s ok, here are some more...","next":"008"}]},{"type":"next","next":"010"}]},{"id":"009","info":"","actions":[{"type":"saveInput","varName":"idea"},{"type":"rephrase","text":"Cool, so your idea is about \'{userIdea}\', is that correct?","input":"{idea}","save":"userIdea","varNames":["idea","userIdea"],"options":[{"text":"Yes","reply":"That is a nice idea!","next":"010"},{"text":"No","reply":"That\'s ok, try to type your idea again","next":"009"}]}]},{"id":"010","info":"","actions":[{"type":"publish","text":"Story Idea: {userIdea}","varNames":["userIdea"]},{"type":"next","next":"011"}]},{"id":"011","info":"Now, based on your idea, what or who is the main character in your story?","input":true,"actions":[{"type":"options","options":[{"text":"I need help","reply":"That\'s ok, here are a few names you can use as for your main character:","next":"013"}]},{"type":"saveInput","varName":"mainChar"},{"type":"next","next":"012"}]},{"id":"012","info":"","actions":[{"type":"publish","text":"Main Character: {mainChar}","varNames":["mainChar"]},{"type":"next","next":"014"}]},{"id":"013","info":"","actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}","term":"names","desc":"main character","number":5,"save":"mainChar","varNames":["userIdea"]},{"type":"next","next":"012"}]},{"id":"014","info":"Can you give more description of your character? age, gender, feeling (emotion) anything.","actions":[{"type":"options","options":[{"text":"I need help","reply":"That\'s ok, let me help you.","next":"016"}]},{"type":"saveInput","varName":"idea"},{"type":"rephrase","text":"Cool, so your character \'{mainChar}\' is \'{desc}\', is that correct?","input":"{idea}","save":"desc","varNames":["mainChar","desc","idea"],"options":[{"text":"Yes","reply":"","next":"015"},{"text":"No","reply":"","next":"014"}]}]},{"id":"015","info":"","actions":[{"type":"publish","text":"{desc}","varNames":["desc"]},{"type":"next","next":"018"}]},{"id":"016","info":"Ok, so, {mainChar} can feel...","varNames":["mainChar"],"actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}","term":"emotions","desc":"the feelings of the character","number":4,"save":"desc","varNames":["userIdea","mainChar"]},{"type":"next","next":"017"}]},{"id":"017","info":"And {mainChar} can look like...","varNames":["mainChar"],"actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}","term":"appearance","desc":"how the main character look like","number":4,"append":"desc","varNames":["userIdea"]},{"type":"publish","text":"{desc}","varNames":["desc"]},{"type":"next","next":"018"}]},{"id":"018","info":"Do you want to generate an image of your character?","actions":[{"type":"options","options":[{"text":"Yes","next":"019"},{"text":"No","next":"020"}]}]},{"id":"019","info":"","actions":[{"type":"makeImage","text":"{userIdea}, {desc}","varNames":["userIdea","desc"]},{"type":"next","next":"020"}]},{"id":"020","info":"Where does the story take place?","actions":[{"type":"options","options":[{"text":"I need help","next":"021"}]},{"type":"saveInput","varName":"place"},{"type":"publish","text":"{place}","varNames":["place"]},{"type":"next","next":"022"}]},{"id":"021","info":"","actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}","term":"places","desc":"where the story can take place","number":4,"save":"place","varNames":["userIdea"]},{"type":"publish","text":"{place}","varNames":["place"]},{"type":"next","next":"022"}]},{"id":"022","info":"What do the main characters want to do?","actions":[{"type":"options","options":[{"text":"I need help","next":"023"}]},{"type":"saveInput","varName":"mainObjective"},{"type":"next","next":"024"}]},{"id":"023","info":"","actions":[{"type":"listIdeasFromIdea","idea":"{userIdea}, {desc}","term":"actions","desc":"what the main character in the story wants to do","number":4,"save":"mainObjective","varNames":["userIdea","desc"]},{"type":"publish","text":"{mainObjective}","varNames":["mainObjective"]},{"type":"next","next":"024"}]},{"id":"024","info":"When does the story take place?","actions":[{"type":"options","options":[{"text":"Day","reply":"","next":"025","save":"storyTime"},{"text":"Night","reply":"","next":"025","save":"storyTime"}]}]},{"id":"025","info":"Great, let\'s write an introduction of story based on \'{userIdea}\' within 50 words.","input":true,"varNames":["userIdea"],"actions":[{"type":"options","options":[{"text":"I need help","reply":"That\'s ok, here is an example introduction for your story...","next":"026"}]},{"type":"saveInput","varName":"introduction"}]},{"id":"026","info":"Please wait... I am trying... ^_^","actions":[{"type":"writeStoryIntroduction","seed":"{userIdea}. And the main character is {mainChar}, and {desc}. This story happens at {place}","grade":3,"maxWords":80,"varNames":["userIdea","mainChar","desc","place"],"save":"introduction"},{"type":"next","next":"027"}]},{"id":"027","info":"Do you like it?","actions":[{"type":"options","options":[{"text":"Yes","reply":"","next":"028"},{"text":"No","reply":"No problem, here is another one..","next":"026"}]}]},{"id":"028","info":"Do you want to generate an image about the scene?","actions":[{"type":"options","options":[{"text":"Yes","reply":"","next":"029"},{"text":"No","reply":"","next":"030"}]}]},{"id":"029","info":"","actions":[{"type":"makeImage","text":"{introduction}","varNames":["introduction"]},{"type":"next","next":"030"}]},{"id":"030","info":"Cool! Look at on your canvas at the right, it is a very nice story, feel free to make modifications, and show them to your parents and friends! See you next time!","actions":[]}]}'),Q={api:null,async serviceRephrase(e,t,o){const n="rephrase this text '{input}' with correct grammar, that is understandable by {grade}-grade students, and do not use more than {maxWords} words.",a=n.replace("{input}",e).replace("{grade}",t).replace("{maxWords}",o),s=await this.api.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"user",content:a}]});return console.log(s),s.data.choices[0].message.content},async serviceWriteStoryIntroduction(e,t,o){const n="Write an introduction for a story based on the idea of '{idea}'. Do not exceed {maxWords} words. This writing must be easy to understand for {grade}-grade students.",a=n.replace("{idea}",e).replace("{grade}",t).replace("{maxWords}",o);console.log(a);const s=await this.api.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a teacher to teach students how to make creative writing, you will generate appropriate exemplary writing for students to follow."},{role:"user",content:a}]});return console.log(s),s.data.choices[0].message.content},async serviceWriteFromSeed(e,t,o,n,a){console.log(e,t,o,n,a)},async serviceListIdeasFromIdea(e,t,o,n){const a="Based on the idea of '{idea}', list {number} {term} which could be '{description}' in this idea.",s=a.replace("{idea}",e).replace("{term}",t).replace("{number}",n).replace("{description}",o);console.log(s);const r=await this.api.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are an idea generator, and you only reply with JSON format. Only write out the result as a single array of Strings within a JSON string array under the attribute named 'items'."},{role:"user",content:s}]});return console.log(r),r.data.choices[0].message.content},async serviceListStoryIdeas(e,t,o,n){const a="List {number} story ideas about '{seed}', which are appropriate for {grade}-grade school students. Describe each idea with only one short sentence, do not use more than {maxWords} words.",s=a.replace("{seed}",e).replace("{number}",t).replace("{grade}",o).replace("{maxWords}",n);console.log(s);const r=await this.api.createChatCompletion({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are an idea generator, and you only reply with JSON format. Only write out the result as a single array of Strings within a JSON string array under the attribute named 'items'."},{role:"user",content:s}]});return console.log(r),r.data.choices[0].message.content},async serviceMakeImage(e){const t="image for kids, no words, no text, {text}".replace("{text}",e);console.log(t);const o=await this.api.createImage({prompt:t,n:2,size:"512x512"}),n=[];return o.data.data.forEach((function(e){n.push(e.url)})),n}};const X={class:"p-2 h-96"},$={class:"p-1 bg-blue-600 text-white rounded-lg select-none w-24"};function ee(e,t,o,s,r,i){const c=(0,a.up)("van-slider"),l=(0,a.up)("van-dialog");return(0,a.wg)(),(0,a.j4)(l,{show:s.show,"onUpdate:show":t[2]||(t[2]=e=>s.show=e),title:"Editor Window",showConfirmButton:!0,closeOnClickOverlay:!0,width:"640",showCancelButton:!0,onConfirm:t[3]||(t[3]=e=>s.confirm())},{default:(0,a.w5)((()=>[(0,a._)("div",X,[(0,a.wy)((0,a._)("textarea",{type:"textArea",class:"border w-full h-48","onUpdate:modelValue":t[0]||(t[0]=e=>s.userText=e)},null,512),[[n.nr,s.userText]]),(0,a.Wm)(c,{class:"mt-4",modelValue:s.height,"onUpdate:modelValue":t[1]||(t[1]=e=>s.height=e),min:80,max:500},{button:(0,a.w5)((()=>[(0,a._)("div",$,"height: "+(0,h.zw)(s.height),1)])),_:1},8,["modelValue"])])])),_:1},8,["show"])}var te={assignVar(e,t,o){let n=e;return t.forEach((function(e){n.includes("{"+e+"}")&&(n=n.replace("{"+e+"}",o.get(e)))})),n}},oe={store:new Map,data:new Map,actions:[],reset(e){const t=this;this.store.clear(),this.data.clear(),this.actions=[],e.forEach((function(e){e.id&&t.data.set(e.id,e)}))},proceed(e,t){const o=this;o.data.has(e)?(t.removeNode(),setTimeout((async function(){const n=o.data.get(e);if(n.info){let e=n.info;n.varNames&&(e=te.assignVar(e,n.varNames,o.store)),t.addTextNode(e)}console.log("section: "+n.id),o.actions=JSON.parse(JSON.stringify(n.actions)),await o.performActions(t)}),1e3)):alert("Course data is not complete!")},async performActions(e){const t=this;while(t.actions.length){const o=t.actions.shift();if(console.log(o.type),"next"===o.type){t.proceed(o.next,e);break}if("saveInput"===o.type){if(!t.store.has("input")){e.unlockUserInput(),t.actions.unshift(o);break}t.store.set(o.varName,t.store.get("input")),t.store.delete("input")}else if("rephrase"===o.type){const n=te.assignVar(o.input,o.varNames,t.store);console.log("rephrase:"+n);const a=await Q.serviceRephrase(n,3,10);t.store.set(o.save,a);const s=te.assignVar(o.text,o.varNames,t.store);e.addTextNode(s);const r=[];o.options.forEach((function(e){r.push({text:e.text,on:!1,next:e.next,reply:e.reply})})),e.addButtonNode(r)}else if("options"===o.type){const t=[];o.options.forEach((function(e){t.push({text:e.text,on:!1,next:e.next,reply:e.reply,save:e.save})})),e.addButtonNode(t)}else if("publish"===o.type){let n=te.assignVar(o.text,o.varNames,t.store);e.addTextCanvasNode(n,o.varNames[0])}else if("writeStoryIntroduction"===o.type){const n=te.assignVar(o.seed,o.varNames,t.store),a=await Q.serviceWriteStoryIntroduction(n,o.grade,o.maxWords);t.store.set(o.save,a),e.addTextNode(a)}else{if("listIdeasFromIdea"===o.type){const n=te.assignVar(o.idea,o.varNames,t.store),a=await Q.serviceListIdeasFromIdea(n,o.term,o.desc,o.number),s=Object.values(JSON.parse(a))[0],r=[];s.forEach((function(e){r.push({text:e,on:!1,next:"",reply:"",save:o.save,append:o.append})})),e.addButtonNode(r);break}if("listStoryIdeas"===o.type){const n=te.assignVar(o.seed,o.varNames,t.store),a=await Q.serviceListStoryIdeas(n,o.number,o.grade,o.maxWords),s=Object.values(JSON.parse(a))[0],r=[];s.forEach((function(e){r.push({text:e,on:!1,next:"",reply:"",save:o.save})})),o.options&&o.options.forEach((function(e){r.push({text:e.text,on:!1,next:e.next,reply:e.reply,save:e.save})})),e.addButtonNode(r);break}if("makeImage"===o.type){const n=te.assignVar(o.text,o.varNames,t.store),a=await Q.serviceMakeImage(n);e.addImageNode(a)}}}e.actionDone()}},ne=o(2876),ae=o(1817),se={components:{[i.zx.name]:i.zx,[ne.Vq.name]:ne.Vq,[ae.iR.name]:ae.iR},setup(e,{emit:t}){const o=(0,S.iH)(!1),n=(0,S.iH)(""),a=(0,S.iH)(0);let s=null;const r=function(e){s=e,n.value=e.content,a.value=e.h,o.value=!0},i=function(){s.content=n.value,s.varName&&oe.store.set(s.varName,n.value),s.h=a.value,o.value=!1,n.value||t("removeNode")};return{show:o,userText:n,confirm:i,showDialog:r,height:a}}};const re=(0,u.Z)(se,[["render",ee]]);var ie=re,ce={name:"HomeView",components:{MyNode:U,MyButtons:R,MyDialog:ie,[i.zx.name]:i.zx,[W.Ee.name]:W.Ee,[H.gN.name]:H.gN,[j.TS.name]:j.TS},setup(){const e=(0,_.Z)();console.log(e);const t=(0,S.iH)(""),o=(0,S.iH)([]),n=(0,S.iH)(!0),s=(0,S.iH)(null),r=(0,S.iH)([]),i=(0,S.iH)(null),c=new V.Configuration({apiKey:A.k2+A.k1+A.k3});Q.api=new V.OpenAIApi(c),oe.reset(G.N);const l={removeNode(){o.value[0]&&o.value[0].type===A.buttons&&o.value.shift(),n.value=!0},addTextNode(e){o.value.unshift({content:[e],self:!1,type:A.text,nodeId:(0,_.Z)()})},unlockUserInput(){n.value=!1},addButtonNode(e){o.value.unshift({content:e,self:!0,type:A.buttons,nodeId:(0,_.Z)()})},addImageNode(e){o.value.unshift({content:e,self:!1,type:A.image})},addTextCanvasNode(e,t){let o=100,n=100;r.value.length&&(o=r.value[r.value.length-1].x,n=r.value[r.value.length-1].y),r.value.push({content:e,x:o,y:n+100,type:A.text,class:"text-blue-500 text-lg",varName:t,w:400,h:80})},actionDone(){setTimeout((function(){s.value.scrollIntoView({behavior:"smooth",block:"end"})}),500)}};(0,a.bv)((function(){oe.proceed("001",l)}));const u=async function(e){if(!e.done){if(e.on=!0,e.done=!0,o.value.shift(),o.value.unshift({content:[e.text],self:!0,type:A.text}),e.reply&&o.value.unshift({content:[e.reply],self:!1,type:A.text}),r.value.length&&e.cancel&&r.value.pop(),e.save&&oe.store.set(e.save,e.text),e.append){const t=oe.store.get(e.append);t?oe.store.set(e.append,t+", "+e.text):oe.store.set(e.append,e.text)}e.next?oe.proceed(e.next,l):await oe.performActions(l)}},d=async function(){if(!t.value)return;const e=t.value;t.value="",n.value?alert("We are not anticipating input text now..."):(oe.store.set("input",e),o.value[0]&&o.value[0].type===A.buttons&&o.value.shift(),o.value.unshift({content:[e],self:!0,type:A.text}),n.value=!0,await oe.performActions(l))};let p=null;const m=function(e,t){let o=0,n=0;t===A.text?(o=400,n=80):t===A.image&&(o=150,n=150),p={content:e,class:"",type:t,w:o,h:n}},h=function(e){e.preventDefault()},y=function(e){if(e.preventDefault(),p){const t=e.target.getBoundingClientRect();p.x=e.clientX-t.left,p.y=e.clientY-t.top,r.value.push(p),p=null}};let v=null;const g=function(e){v=e},f=function({x:e,y:t},o){o.x=e,o.y=t};let x=0,w=0;const b=function(e){v&&(e.preventDefault(),v(e.x-x,e.y-w)),x=e.x,w=e.y},N=function(){v=null};let k=0;const I=function(e,t){i.value.showDialog(e),k=t},D=function(){r.value.splice(k,1),(0,M.CF)("Text removed")};return{NodeTypes:A,chatToSend:t,history:o,sending:n,startDrag:m,onDragover:h,onDrop:y,textNodes:r,onNodeMouseDown:g,mosemove:b,mouseup:N,pickOption:u,enterText:d,clickCanvasNode:I,chatBottom:s,newPosition:f,editor:i,removeNode:D}}};const le=(0,u.Z)(ce,[["render",O],["__scopeId","data-v-ff4eeed0"]]);var ue=le;const de={xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"w-full h-full canvas"},pe=(0,a.uE)('<svg x="500" y="0" width="200" height="100" data-v-0f3aa7e9><text x="100" y="100" class="heavy" data-v-0f3aa7e9>v0.3</text></svg><svg x="214" y="130" width="150" height="150" class="cursor-pointer" data-v-0f3aa7e9><foreignObject width="150" height="150" x="0" y="0" data-v-0f3aa7e9><img src="images/test4.png" data-v-0f3aa7e9></foreignObject></svg>',2),me=[pe];function he(e,t,o,n,s,r){return(0,a.wg)(),(0,a.iD)("svg",de,me)}var ye={name:"AboutView",setup(){}};const ve=(0,u.Z)(ye,[["render",he],["__scopeId","data-v-0f3aa7e9"]]);var ge=ve;const fe=[{path:"/",name:"home",component:ue},{path:"/about",name:"about",component:ge}],xe=(0,m.p7)({history:(0,m.r5)(),routes:fe});var we=xe,be=o(3907),Ne=(0,be.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),ke=(o(6758),o(5110),o(9192)),Ie=o(8182);ke.go.use("en-US",Ie.Z),(0,n.ri)(p).use(Ne).use(we).mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,s){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],s=e[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&s||r>=s)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(i=!1,s<r&&(r=s));if(i){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,a,s]}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,r=n[0],i=n[1],c=n[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(c)var u=c(o)}for(t&&t(n);l<r.length;l++)s=r[l],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(u)},n=self["webpackChunkvital"]=self["webpackChunkvital"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(1972)}));n=o.O(n)})();
//# sourceMappingURL=app.3e3c051a.js.map